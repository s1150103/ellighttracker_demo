# 📅 日報 - 2025年7月2日（火）

## ✅ 今日実施したこと

- `mode=t`（日別集計）のバックエンド（Flask）処理を確認
  - `uptime` が `00:00:00` 表記になる問題を調査
  - `ElWorkRecord` における `uptime` の保存ロジックを確認・調整
  - `format_seconds()` 関数の出力が 0 秒でも `"00:00:00"` になるように確認
- `mode=e`（詳細モード）のエンドポイントも確認し、正しく `uptime` が計算・表示されていることを確認
- フロントエンド(Vue.js)にて、`00:00` や `"00:00:00"` の扱いに注意して `mean()`、`sum()` などの集計ロジックを再点検
- HTTPSページ上でHTTPリクエストが混在していることによる Mixed Content エラーを修正（`baseUrl` を HTTPS に統一）

## 🐞 今日発見された/対処中の問題

- `uptime` の値が秒単位にしても 1 秒未満であれば切り捨てられ `00:00:00` になる可能性
- フロント側が `"00:00:00"` を正常値と区別できず、データがないのか時間が短いのか判断できない
- Google App Engine の Python ランタイムが `python39` や `python311` ではサポート終了 → 新しいランタイムに更新必要

## 🛠 今後の対応予定

- `uptime` が 0 秒の場合でも `"00:00:01"` など最低限の表示に調整するか検討
- `ElWorkRecord` 保存時に `uptime` の算出処理を確認・補正（ミリ秒→秒換算に注意）
- フロント側で `"00:00:00"` を未取得と区別する表示（例: `"--"`）に切り替え
- GAEのランタイムを `python312` など、現行のサポート対象に更新する

## ✨ 所感

`00:00:00` 問題は地味だが見逃せない不具合。バックエンド・フロント双方での細かい整合性が必要。  
データの信用性を担保するには、こうした「ゼロの意味」を丁寧に扱うことが大切だと痛感した。

